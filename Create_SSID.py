import requests

url = "https://api.mist.com/api/v1/sites/InsertSiteID/wlans"

payload = "{\n    \"ssid\": \"DON\",\n    \"enabled\": true,\n    \"hide_ssid\": false,\n    \"hostname_ie\": false,\n    \"no_static_ip\": false,\n    \"no_static_dns\": false,\n    \"band\": \"5\",\n    \"band_steer\": false,\n    \"airwatch\": {\n        \"enabled\": false,\n        \"console_url\": \"\",\n        \"api_key\": \"\",\n        \"username\": \"\",\n        \"password\": \"\"\n    },\n    \"disable_wmm\": false,\n    \"disable_uapsd\": false,\n    \"use_eapol_v1\": false,\n    \"auth_servers_nas_id\": \"\",\n    \"auth_servers_nas_ip\": \"\",\n    \"auth_server_selection\": \"ordered\",\n    \"disable_11ax\": false,\n    \"vlan_enabled\": false,\n    \"isolation\": true,\n    \"arp_filter\": true,\n    \"limit_bcast\": true,\n    \"allow_mdns\": true,\n    \"vlan_id\": null,\n    \"wxtunnel_remote_id\": null,\n    \"wlan_limit_up\": 10000,\n    \"wlan_limit_down\": 20000,\n    \"client_limit_up\": 512,\n    \"client_limit_down\": 1000,\n    \"portal\": {\n        \"enabled\": false,\n        \"bypass_when_cloud_down\": true,\n        \"auth\": \"none\",\n        \"privacy\": false,\n        \"external_portal_url\": \"\",\n        \"sso_issuer\": \"\",\n        \"sso_nameid_format\": \"email\",\n        \"sso_idp_sign_algo\": \"sha1\",\n        \"sso_idp_cert\": \"\",\n        \"sso_idp_sso_url\": \"\",\n        \"sso_default_role\": \"\",\n        \"sso_forced_role\": \"\",\n        \"password\": \"\",\n        \"expire\": 1440,\n        \"forward\": false,\n        \"forward_url\": \"\",\n        \"passphrase_enabled\": false,\n        \"email_enabled\": false,\n        \"sms_enabled\": false,\n        \"smsMessageFormat\": \"Code {{code}} expires in {{duration}} minutes.\",\n        \"sms_provider\": \"manual\",\n        \"sponsor_enabled\": false,\n        \"sponsor_email_domains\": [],\n        \"sponsor_link_validity_duration\": \"60\",\n        \"google_enabled\": false,\n        \"google_client_id\": \"\",\n        \"google_client_secret\": \"\",\n        \"google_email_domains\": [],\n        \"facebook_enabled\": false,\n        \"facebook_client_id\": \"\",\n        \"facebook_client_secret\": \"\",\n        \"facebook_email_domains\": [],\n        \"amazon_enabled\": false,\n        \"amazon_client_id\": \"\",\n        \"amazon_client_secret\": \"\",\n        \"amazon_email_domains\": [],\n        \"microsoft_enabled\": false,\n        \"microsoft_client_id\": \"\",\n        \"microsoft_client_secret\": \"\",\n        \"microsoft_email_domains\": [],\n        \"azure_enabled\": false,\n        \"azure_client_id\": \"\",\n        \"azure_client_secret\": \"\",\n        \"azure_tenant_id\": \"\"\n    },\n    \"portal_allowed_subnets\": [],\n    \"portal_allowed_hostnames\": [],\n    \"portal_denied_hostnames\": [],\n    \"portal_api_secret\": \"\",\n    \"cisco_cwa\": {\n        \"enabled\": false,\n        \"allowed_subnets\": [],\n        \"allowed_hostnames\": []\n    },\n    \"auth_servers\": [],\n    \"acct_servers\": [],\n    \"schedule\": {\n        \"enabled\": false,\n        \"hours\": {}\n    },\n    \"radsec\": {\n        \"enabled\": false,\n        \"server_name\": \"\",\n        \"servers\": []\n    },\n    \"dtim\": 2,\n    \"app_qos\": {\n        \"enabled\": false,\n        \"apps\": {}\n    },\n    \"auth\": {\n        \"type\": \"psk\",\n        \"enable_mac_auth\": false,\n        \"private_wlan\": false,\n        \"keys\": [\n            null,\n            null,\n            null,\n            null\n        ],\n        \"key_idx\": 1,\n        \"multi_psk_only\": false,\n        \"eap_reauth\": false,\n        \"psk\": \"DonPSKDon\"\n    },\n    \"dynamic_vlan\": null,\n    \"dns_server_rewrite\": null,\n    \"qos\": {\n        \"overwrite\": false,\n        \"class\": \"best_effort\"\n    },\n    \"coa_servers\": null,\n    \"rateset\": {\n        \"5\": {\n            \"template\": \"high-density\",\n            \"min_rssi\": 0\n        },\n        \"24\": {\n            \"template\": \"high-density\",\n            \"min_rssi\": 0\n        }\n    },\n    \"app_limit\": {\n        \"enabled\": false,\n        \"apps\": {},\n        \"wxtag_ids\": {}\n    },\n    \"max_idletime\": 1800,\n    \"vlan_pooling\": false,\n    \"vlan_ids\": [],\n    \"wxtag_ids\": null,\n    \"ap_ids\": null,\n    \"apply_to\": \"site\",\n    \"id\": \"870a7fc9-72f7-4011-ae46-f2df549a93bb\",\n    \"for_site\": true,\n    \"template_id\": null,\n    \"site_id\": \"8c90cbf0-06fb-46d9-9f42-8c898ff20aba\",\n    \"org_id\": \"2a9fe59e-a178-4091-ae2b-1cc102ddb71a\",\n    \"created_time\": 1601679323,\n    \"modified_time\": 1601679323,\n    \"mxtunnel_id\": null,\n    \"wxtunnel_id\": null,\n    \"interface\": \"all\"\n}\n"
headers = {
  'Authorization': 'Insert Token Here',
  'Content-Type': 'application/json'
}

response = requests.request("POST", url, headers=headers, data = payload)

print(response.text.encode('utf8'))
